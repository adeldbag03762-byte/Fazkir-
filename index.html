<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙØ°ÙƒÙ‘Ø± - Ø¹Ø¨Ø¯ Ø§Ù„ÙˆÙƒÙŠÙ„ Ø§Ù„Ø­Ù„Ø¨ÙŠ</title>
    <style>
        :root { --gold: #d4af37; --bg: #050505; --card: #121212; }
        body { margin: 0; background: var(--bg); color: #fff; font-family: 'Segoe UI', sans-serif; text-align: center; }
        .container { padding: 20px; max-width: 500px; margin: auto; }
        h1 { font-size: 2.5em; color: var(--gold); margin-bottom: 5px; }
        .dev-tag { color: var(--gold); border: 1px solid var(--gold); padding: 5px 15px; border-radius: 20px; font-size: 0.8em; margin-bottom: 20px; display: inline-block; }
        
        /* Ù„ÙˆØ­Ø© Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© */
        .prayer-times { background: var(--card); border: 1px solid var(--gold); border-radius: 15px; padding: 15px; margin-bottom: 20px; display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; font-size: 0.7em; }
        .p-item { display: flex; flex-direction: column; }
        .p-name { color: var(--gold); font-weight: bold; }

        .main-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .m-btn { background: var(--card); border: 1px solid rgba(212,175,55,0.3); padding: 15px; border-radius: 12px; cursor: pointer; color: #fff; font-weight: bold; }
        
        #screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 10000; flex-direction: column; }
        .header { background: #111; padding: 10px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--gold); }
        .view-area { flex-grow: 1; overflow-y: auto; padding: 15px; text-align: right; }
        .close-btn { background: var(--gold); border: none; padding: 8px 15px; border-radius: 5px; font-weight: bold; cursor: pointer; }
        .item-card { background: var(--card); border-right: 4px solid var(--gold); padding: 15px; border-radius: 10px; margin-bottom: 10px; }
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body>

<div class="container">
    <h1>ÙØ°ÙƒÙ‘Ø±</h1>
    <div class="dev-tag">Ø¥Ø¹Ø¯Ø§Ø¯: Ø¹Ø¨Ø¯ Ø§Ù„ÙˆÙƒÙŠÙ„ Ø§Ù„Ø­Ù„Ø¨ÙŠ</div>

    <div id="prayer-display" style="margin-bottom:10px; color:var(--gold); font-weight:bold;">Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ Ù„Ù„Ù…ÙˆØ§Ù‚ÙŠØª...</div>
    <div class="prayer-times" id="times-list">
        <div class="p-item"><span class="p-name">Ø§Ù„ÙØ¬Ø±</span><span id="fajr">-</span></div>
        <div class="p-item"><span class="p-name">Ø§Ù„Ø¸Ù‡Ø±</span><span id="dhuhr">-</span></div>
        <div class="p-item"><span class="p-name">Ø§Ù„Ø¹ØµØ±</span><span id="asr">-</span></div>
        <div class="p-item"><span class="p-name">Ø§Ù„Ù…ØºØ±Ø¨</span><span id="maghrib">-</span></div>
        <div class="p-item"><span class="p-name">Ø§Ù„Ø¹Ø´Ø§Ø¡</span><span id="isha">-</span></div>
    </div>

    <div class="main-menu">
        <div class="m-btn" onclick="openMe('m')">â˜€ï¸ Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</div>
        <div class="m-btn" onclick="openMe('e')">ğŸŒ™ Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</div>
        <div class="m-btn" onclick="openMe('s')">ğŸ˜´ Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…</div>
        <div class="m-btn" onclick="openMe('h')">ğŸ“œ 50 Ø­Ø¯ÙŠØ«Ø§Ù‹</div>
        <div class="m-btn" onclick="openMe('q')" style="grid-column: span 2; background: #1a1a1a;">ğŸ“– Ø§Ù„Ù…ØµØ­Ù ÙˆØ§Ù„ØªÙØ³ÙŠØ±</div>
    </div>
</div>

<div id="screen">
    <div class="header"><span id="title" style="color:var(--gold);"></span><button class="close-btn" onclick="closeMe()">Ø±Ø¬ÙˆØ¹ âœ•</button></div>
    <div class="view-area" id="body"></div>
</div>

<script>
// 1. Ø¬Ù„Ø¨ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© ÙˆØ§Ù„Ø¢Ø°Ø§Ù† Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹
function getPrayerTimes() {
    navigator.geolocation.getCurrentPosition(pos => {
        const lat = pos.coords.latitude;
        const lon = pos.coords.longitude;
        fetch(`https://api.aladhan.com/v1/timingsByCity?city=Aleppo&country=Syria&method=4`) // ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹
        .then(res => res.json())
        .then(data => {
            const t = data.data.timings;
            document.getElementById('fajr').innerText = t.Fajr;
            document.getElementById('dhuhr').innerText = t.Dhuhr;
            document.getElementById('asr').innerText = t.Asr;
            document.getElementById('maghrib').innerText = t.Maghrib;
            document.getElementById('isha').innerText = t.Isha;
            document.getElementById('prayer-display').innerText = "Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© Ù„Ù„ÙŠÙˆÙ…";
        });
    }, () => {
        document.getElementById('prayer-display').innerText = "ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„ GPS Ù„Ù„Ù…ÙˆØ§Ù‚ÙŠØª";
    });
}
getPrayerTimes();

const db = {
    m: [{t:"Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ£ØµØ¨Ø­ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡",n:1}, {t:"Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£ØµØ¨Ø­Øª Ø£Ø´Ù‡Ø¯Ùƒ ÙˆØ£Ø´Ù‡Ø¯ Ø­Ù…Ù„Ø© Ø¹Ø±Ø´Ùƒ",n:4}, {t:"Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡",n:100}],
    e: [{t:"Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ£Ù…Ø³Ù‰ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡",n:1}, {t:"Ø­Ø³Ø¨ÙŠ Ø§Ù„Ù„Ù‡ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ù‡Ùˆ Ø¹Ù„ÙŠÙ‡ ØªÙˆÙƒÙ„Øª",n:7}],
    s: [{t:"Ø¨Ø§Ø³Ù…Ùƒ Ø±Ø¨ÙŠ ÙˆØ¶Ø¹Øª Ø¬Ù†Ø¨ÙŠ ÙˆØ¨Ùƒ Ø£Ø±ÙØ¹Ù‡",n:1}, {t:"Ø³ÙØ¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ (33)ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ (33)ØŒ Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø± (34)",n:1}],
    h: [
        {t:"1- Ø¥Ù†Ù…Ø§ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø§Ù„Ù†ÙŠØ§Øª.. (Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ)",n:1},
        {t:"2- Ø­Ø¯ÙŠØ« Ø¬Ø¨Ø±ÙŠÙ„ Ø¹Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù… ÙˆØ§Ù„Ø¥ÙŠÙ…Ø§Ù†.. (Ù…Ø³Ù„Ù…)",n:1},
        {t:"50- Ù„Ø§ ÙŠØ²Ø§Ù„ Ù„Ø³Ø§Ù†Ùƒ Ø±Ø·Ø¨Ø§Ù‹ Ù…Ù† Ø°ÙƒØ± Ø§Ù„Ù„Ù‡. (Ø§Ù„ØªØ±Ù…Ø°ÙŠ)",n:1}
    ]
};

function openMe(k) {
    const b = document.getElementById('body');
    const s = document.getElementById('screen');
    const t = document.getElementById('title');
    s.style.display = 'flex'; b.innerHTML = '';
    
    if(k === 'q') {
        t.innerText="Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø´Ø±ÙŠÙ";
        b.innerHTML='<iframe src="https://quran.com/1?translations=161"></iframe>';
    } else {
        const names = {m:'Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­', e:'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡', s:'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…', h:'Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ« (50)'};
        t.innerText = names[k];
        db[k].forEach((x, i) => {
            b.innerHTML += `<div class="item-card"><div>${x.t}</div>
            <div style="display:flex; justify-content:space-between; margin-top:10px; direction:ltr;">
            <button class="close-btn" onclick="cnt('${k}${i}',${x.n})">Ø³Ø¨Ù‘Ø­</button>
            <span id="c${k}${i}" style="color:var(--gold)">0 / ${x.n}</span></div></div>`;
        });
    }
}
function cnt(id, m) {
    let e = document.getElementById('c'+id);
    let v = parseInt(e.innerText.split(' / ')[0]);
    if(v < m) e.innerText = (v+1) + " / " + m;
}
function closeMe() { document.getElementById('screen').style.display='none'; }
</script>
</body>
</html>
