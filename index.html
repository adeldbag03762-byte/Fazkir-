<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙØ°ÙƒÙ‘Ø± - Ø¹Ø¨Ø¯ Ø§Ù„ÙˆÙƒÙŠÙ„ Ø§Ù„Ø­Ù„Ø¨ÙŠ</title>
    <style>
        :root { --gold: #d4af37; --bg: #050505; --card: #121212; }
        body { margin: 0; background: var(--bg); color: #fff; font-family: 'Segoe UI', sans-serif; text-align: center; }
        .container { max-width: 600px; margin: auto; padding: 20px; }
        h1 { font-size: 3em; color: var(--gold); text-shadow: 0 0 10px rgba(212,175,55,0.4); }
        .dev-tag { color: var(--gold); border: 1px solid var(--gold); padding: 5px 20px; border-radius: 20px; font-size: 0.9em; margin-bottom: 25px; display: inline-block; }
        .main-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .m-btn { background: var(--card); border: 1px solid rgba(212,175,55,0.3); padding: 20px; border-radius: 20px; cursor: pointer; color: #fff; font-weight: bold; transition: 0.3s; height: 100px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .m-btn:hover { border-color: var(--gold); background: rgba(212,175,55,0.1); }
        #screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 10000; padding: 15px; box-sizing: border-box; overflow-y: auto; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid var(--gold); padding-bottom: 10px; position: sticky; top: 0; background: #000; }
        .close-btn { background: var(--gold); border: none; padding: 10px 20px; border-radius: 10px; font-weight: bold; cursor: pointer; }
        .item-card { background: var(--card); border-right: 5px solid var(--gold); padding: 20px; border-radius: 15px; margin-bottom: 15px; text-align: right; line-height: 1.8; }
        .tasbih-box { display: flex; justify-content: space-between; align-items: center; margin-top: 15px; background: #000; padding: 12px; border-radius: 12px; border: 1px solid #222; direction: ltr; }
        .count-val { color: var(--gold); font-size: 1.5em; font-family: monospace; font-weight: bold; }
        .tap-btn { background: var(--gold); border: none; padding: 8px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        iframe { width: 100%; height: calc(100vh - 100px); border: none; border-radius: 15px; }
        .loading { color: var(--gold); font-style: italic; margin-top: 50px; }
    </style>
</head>
<body>

<div class="container">
    <h1>ÙØ°ÙƒÙ‘Ø±</h1>
    <div class="dev-tag">Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªØ·ÙˆÙŠØ±: Ø¹Ø¨Ø¯ Ø§Ù„ÙˆÙƒÙŠÙ„ Ø§Ù„Ø­Ù„Ø¨ÙŠ</div>
    <div class="main-menu">
        <div class="m-btn" onclick="fetchContent('morning')">â˜€ï¸<span>Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</span></div>
        <div class="m-btn" onclick="fetchContent('evening')">ğŸŒ™<span>Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</span></div>
        <div class="m-btn" onclick="fetchContent('sleep')">ğŸ˜´<span>Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…</span></div>
        <div class="m-btn" onclick="fetchContent('hadith')">ğŸ“œ<span>Ø§Ù„Ø£Ø±Ø¨Ø¹ÙˆÙ† Ø§Ù„Ù†ÙˆÙˆÙŠØ©</span></div>
        <div class="m-btn" onclick="openQuran()" style="grid-column: span 2;">ğŸ“–<span>Ø§Ù„Ù…ØµØ­Ù ÙˆØ§Ù„ØªÙØ³ÙŠØ±</span></div>
    </div>
</div>

<div id="screen">
    <div class="header">
        <h2 id="stitle" style="color:var(--gold); margin:0;"></h2>
        <button class="close-btn" onclick="document.getElementById('screen').style.display='none'">Ø±Ø¬ÙˆØ¹ âœ•</button>
    </div>
    <div id="sbody"></div>
</div>

<script>
    // Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ø³ØªÙ‚ÙˆÙ… Ø¨Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù…ØµØ§Ø¯Ø± Ø®Ø§Ø±Ø¬ÙŠØ© Ù…ÙˆØ«ÙˆÙ‚Ø© Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø§Ø®ØªÙØ§Ø¦Ù‡Ø§
    async function fetchContent(type) {
        const body = document.getElementById('sbody');
        const screen = document.getElementById('screen');
        const stitle = document.getElementById('stitle');
        
        body.innerHTML = '<div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙƒØ§Ù…Ù„...</div>';
        screen.style.display = 'block';

        let url = '';
        if (type === 'morning') { url = 'https://hisnmuslim.com/api/ar/27.json'; stitle.innerText = 'Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­'; }
        else if (type === 'evening') { url = 'https://hisnmuslim.com/api/ar/28.json'; stitle.innerText = 'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡'; }
        else if (type === 'sleep') { url = 'https://hisnmuslim.com/api/ar/31.json'; stitle.innerText = 'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…'; }
        else if (type === 'hadith') { 
            stitle.innerText = 'Ø§Ù„Ø£Ø±Ø¨Ø¹ÙˆÙ† Ø§Ù„Ù†ÙˆÙˆÙŠØ© (50 Ø­Ø¯ÙŠØ«Ø§Ù‹)';
            body.innerHTML = '<iframe src="https://sunnah.com/nawawi"></iframe>';
            return;
        }

        try {
            const response = await fetch(url);
            const data = await response.json();
            let html = "";
            data[Object.keys(data)[0]].forEach((item, i) => {
                html += `
                    <div class="item-card">
                        <div class="zekr-text">${item.ARABIC_TEXT}</div>
                        <div style="font-size:0.8em; color:var(--gold); margin-top:5px;">${item.REPEAT} Ù…Ø±Ø§Øª</div>
                        <div class="tasbih-box">
                            <button class="tap-btn" onclick="count('${i}', ${item.REPEAT})">Ø³Ø¨Ù‘Ø­</button>
                            <span class="count-val" id="c${i}">0 / ${item.REPEAT}</span>
                        </div>
                    </div>`;
            });
            body.innerHTML = html;
        } catch (e) {
            body.innerHTML = '<div class="loading">Ø¹Ø°Ø±Ø§Ù‹ØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.</div>';
        }
    }

    function count(id, max) {
        let el = document.getElementById('c' + id);
        let cur = parseInt(el.innerText.split(' / ')[0]);
        if (cur < max) {
            cur++;
            el.innerText = cur + " / " + max;
            if (cur === max) el.style.color = "#2ecc71";
        }
    }

    function openQuran() {
        document.getElementById('stitle').innerText = "Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø´Ø±ÙŠÙ ÙˆØ§Ù„ØªÙØ³ÙŠØ±";
        document.getElementById('screen').style.display = 'block';
        document.getElementById('sbody').innerHTML = `<iframe src="https://quran.com/1?translations=161"></iframe>`;
    }
</script>
</body>
</html>
